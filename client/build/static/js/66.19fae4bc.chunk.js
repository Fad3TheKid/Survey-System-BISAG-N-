"use strict";(self.webpackChunkformflow_client=self.webpackChunkformflow_client||[]).push([[66],{9066:(e,o,t)=>{t.r(o),t.d(o,{default:()=>a});var r=t(5043),n=t(4505),i=t(579);const a=()=>{const[e,o]=(0,r.useState)(""),[t,a]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[u,f]=(0,r.useState)(!1),[g,p]=(0,r.useState)("0px"),b=(0,r.useRef)(null);(0,r.useEffect)((()=>()=>{document.body.style.overflow="auto"}),[]),(0,r.useEffect)((()=>{const e=()=>{window.scrollY>100&&f(!0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const m={pageContainer:{fontFamily:"'Nunito', sans-serif",minHeight:"100vh",margin:0,padding:0,width:"100vw",position:"relative",backgroundColor:"transparent"},background:{backgroundImage:"url('/background_new.jpeg')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",filter:"brightness(0.8)",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1},scrollDownSection:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",textAlign:"center",zIndex:1002,display:"inline-flex",flexDirection:"column",alignItems:"stretch"},scrollText:{fontWeight:700,fontSize:18,color:"#ffffff",marginBottom:0,padding:"4px 8px",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"4px 4px 0 0",display:"block"},scrollArrow:{fontSize:32,color:"#ffffff",cursor:"default",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"0 0 4px 4px",padding:"4px 8px",display:"block",marginTop:0},overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.4)",zIndex:1e3},formContainer:{},title:{marginBottom:24,fontWeight:700,fontSize:28,color:"#333",textAlign:"center"},form:{display:"flex",flexDirection:"column"},label:{marginBottom:8,fontWeight:600,color:"#555"},input:{padding:12,marginBottom:20,borderRadius:6,border:"1px solid #ddd",fontSize:16,outline:"none",transition:"border-color 0.3s ease"},button:{padding:14,backgroundColor:"#4a90e2",color:"#fff",fontWeight:700,fontSize:16,border:"none",borderRadius:6,cursor:"pointer",transition:"background-color 0.3s ease"},registerButton:{marginTop:10,padding:14,backgroundColor:"#6c757d",color:"#fff",fontWeight:700,fontSize:16,border:"none",borderRadius:6,cursor:"pointer",transition:"background-color 0.3s ease"},error:{color:"#e74c3c",marginBottom:16,textAlign:"center"}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{...m.background,backgroundPositionY:g,zIndex:-10}}),(0,i.jsx)("div",{style:{...m.pageContainer,backgroundColor:"transparent",overflow:"hidden",height:"100vh"},children:(0,i.jsxs)("div",{ref:b,style:{...m.formContainer,transform:"scale(1)",opacity:1,transition:"transform 0.5s ease-out, opacity 0.5s ease-out",transformOrigin:"center center",position:"fixed",top:"50%",left:"50%",transformStyle:"preserve-3d",zIndex:1001,marginTop:0,padding:40,borderRadius:12,boxShadow:"0 8px 24px rgba(149, 157, 165, 0.2)",backgroundColor:"#fff",width:400,minHeight:"60vh",display:"flex",flexDirection:"column",justifyContent:"center",transform:"translate(-50%, -50%) scale(1)"},children:[(0,i.jsx)("button",{onClick:()=>window.location.href="/",style:{position:"absolute",top:10,left:10,background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",zIndex:1100},"aria-label":"Close",children:"\u2715"}),(0,i.jsx)("h2",{style:m.title,children:"Login"}),(0,i.jsxs)("form",{onSubmit:async o=>{o.preventDefault(),s(""),c(!0);try{const o=await n.y1.login({email:e,password:t});localStorage.setItem("token",o.token),localStorage.setItem("userRole",o.user.role);const r=o.user.isRegistered;"admin"===o.user.role?window.location.replace("/admin-dashboard"):r?window.location.replace("/employee-dashboard"):window.location.replace("/employee-registration")}catch(r){s((null===r||void 0===r?void 0:r.message)||"Login failed")}finally{c(!1)}},style:m.form,noValidate:!0,children:[l&&(0,i.jsx)("p",{style:m.error,children:l}),(0,i.jsx)("label",{htmlFor:"email",style:m.label,children:"Email"}),(0,i.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>o(e.target.value),required:!0,style:m.input,placeholder:"Enter your email",autoComplete:"email"}),(0,i.jsx)("label",{htmlFor:"password",style:m.label,children:"Password"}),(0,i.jsx)("input",{id:"password",type:"password",value:t,onChange:e=>a(e.target.value),required:!0,style:m.input,placeholder:"Enter your password",autoComplete:"current-password"}),(0,i.jsx)("button",{type:"submit",disabled:d,style:m.button,children:d?"Logging in...":"Log In"}),(0,i.jsx)("button",{type:"button",style:m.registerButton,onClick:()=>{window.location.href="/register"},children:"Register Now"})]})]})})]})}}}]);
//# sourceMappingURL=66.19fae4bc.chunk.js.map