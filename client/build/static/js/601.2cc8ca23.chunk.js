"use strict";(self.webpackChunkformflow_client=self.webpackChunkformflow_client||[]).push([[601],{2601:(e,s,t)=>{t.r(s),t.d(s,{default:()=>T});var i=t(5043),n=t(3216),r=t(8903),l=t(2110),a=t(6494),d=t(5865),o=t(3336),u=t(6446),c=t(9650),x=t(1806),h=t(4882),j=t(8076),A=t(2420),m=t(3460),p=t(1637),f=t(4194),v=t(8939),y=t(4056),g=t(108),q=t(2291),b=t(7734),w=t(2185),S=t(6026),D=t(6150),I=t(8643),B=t(163),R=t(4240),C=t(7869),F=t(579);const k=["#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4"],E={title:"Sample Survey",questions:[{id:"q1",title:"Favorite Color",type:"multiple"},{id:"q2",title:"Upload your file",type:"file"},{id:"q3",title:"Rate our service",type:"linear"}]},K=[{createdAt:"2025-05-27T10:00:00Z",respondentEmail:"user1@example.com",answers:[{questionId:"q1",value:"Blue"},{questionId:"q2",value:[{value:"file1.pdf"},{value:"file2.jpg"}]},{questionId:"q3",value:4}]},{createdAt:"2025-05-27T11:00:00Z",respondentEmail:"user2@example.com",answers:[{questionId:"q1",value:"Red"},{questionId:"q2",value:"singlefile.docx"},{questionId:"q3",value:5}]}];const T=function(){const{formId:e}=(0,n.g)(),[s,t]=(0,i.useState)(null),[T,$]=(0,i.useState)([]),[N,O]=(0,i.useState)(null),[W,Z]=(0,i.useState)(0),[_,H]=(0,i.useState)(!0),[L,M]=(0,i.useState)(null);(0,i.useEffect)((()=>{t(E),$(K),O({totalResponses:K.length,averageDuration:180,questionStats:{q1:{answerDistribution:{Blue:1,Red:1}},q2:{answerDistribution:{"file1.pdf":1,"file2.jpg":1,"singlefile.docx":1}},q3:{answerDistribution:{4:1,5:1}}}}),H(!1)}),[e]);const U=(e,s)=>{if(!s)return(0,F.jsx)(d.A,{children:"No data"});const t=Object.entries(s.answerDistribution).map((e=>{let[s,t]=e;return{name:s,value:t}}));switch(e.type){case"multiple":case"checkbox":case"linear":return(0,F.jsx)(u.A,{sx:{height:300},children:(0,F.jsx)(g.u,{children:(0,F.jsxs)(q.E,{data:t,children:[(0,F.jsx)(b.d,{strokeDasharray:"3 3"}),(0,F.jsx)(w.W,{dataKey:"name"}),(0,F.jsx)(S.h,{}),(0,F.jsx)(D.m,{}),(0,F.jsx)(I.y,{dataKey:"value",fill:"#673AB7"})]})})});default:return(0,F.jsx)(u.A,{sx:{height:300},children:(0,F.jsx)(g.u,{children:(0,F.jsxs)(B.r,{children:[(0,F.jsx)(R.F,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",children:t.map(((e,s)=>(0,F.jsx)(C.f,{fill:k[s%k.length]},`cell-${s}`)))}),(0,F.jsx)(D.m,{})]})})})}},z=(e,s)=>{if(void 0===e||null===e||"string"===typeof e&&""===e.trim())return"-";if("file"===s){if(Array.isArray(e))return e.length>0&&"object"===typeof e[0]&&"value"in e[0]?e.map((e=>e.value)).join(", "):e.join(", ");if("string"===typeof e)return e;if(e instanceof File)return e.name}return"grid"===s&&"object"===typeof e?Object.entries(e).map((e=>{let[s,t]=e;return`${s}: ${t}`})).join(", "):Array.isArray(e)?e.join(", "):e.toString()};return _?(0,F.jsx)(u.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:(0,F.jsx)(p.A,{})}):L?(0,F.jsx)(u.A,{sx:{p:3},children:(0,F.jsx)(f.A,{severity:"error",children:L})}):s?(0,F.jsxs)(u.A,{sx:{maxWidth:1200,mx:"auto",py:4},children:[(0,F.jsxs)(d.A,{variant:"h4",gutterBottom:!0,children:[s.title," - Responses"]}),(0,F.jsx)(u.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,F.jsxs)(v.A,{value:W,onChange:(e,s)=>Z(s),children:[(0,F.jsx)(y.A,{label:"Summary"}),(0,F.jsx)(y.A,{label:"Individual Responses"})]})}),0===W?N&&s?(0,F.jsxs)(r.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,F.jsx)(l.A,{children:(0,F.jsxs)(a.A,{children:[(0,F.jsx)(d.A,{variant:"h6",children:"Total Responses"}),(0,F.jsx)(d.A,{variant:"h3",children:N.totalResponses})]})})}),(0,F.jsx)(r.Ay,{item:!0,xs:12,md:4,children:(0,F.jsx)(l.A,{children:(0,F.jsxs)(a.A,{children:[(0,F.jsx)(d.A,{variant:"h6",children:"Average Duration"}),(0,F.jsxs)(d.A,{variant:"h3",children:[Math.round(N.averageDuration/60)," min"]})]})})}),(0,F.jsx)(r.Ay,{item:!0,xs:12,children:s.questions.map((e=>(0,F.jsxs)(o.A,{sx:{p:3,mb:2},children:[(0,F.jsx)(d.A,{variant:"h6",gutterBottom:!0,children:e.title}),U(e,N.questionStats[e.id])]},e.id)))})]}):null:s&&T.length?(0,F.jsx)(c.A,{component:o.A,children:(0,F.jsxs)(x.A,{children:[(0,F.jsx)(h.A,{children:(0,F.jsxs)(j.A,{children:[(0,F.jsx)(A.A,{children:"Timestamp"}),(0,F.jsx)(A.A,{children:"Email"}),s.questions.map((e=>(0,F.jsx)(A.A,{children:e.title},e.id)))]})}),(0,F.jsx)(m.A,{children:T.map(((e,t)=>(0,F.jsxs)(j.A,{children:[(0,F.jsx)(A.A,{children:new Date(e.createdAt).toLocaleString()}),(0,F.jsx)(A.A,{children:e.respondentEmail||"-"}),s.questions.map((s=>{const t=e.answers.find((e=>e.questionId===s.id));return(0,F.jsx)(A.A,{children:z(null===t||void 0===t?void 0:t.value,s.type)},s.id)}))]},t)))})]})}):(0,F.jsx)(d.A,{children:"No responses found."})]}):(0,F.jsx)(u.A,{sx:{p:3},children:(0,F.jsx)(f.A,{severity:"error",children:"Form not found"})})}}}]);
//# sourceMappingURL=601.2cc8ca23.chunk.js.map